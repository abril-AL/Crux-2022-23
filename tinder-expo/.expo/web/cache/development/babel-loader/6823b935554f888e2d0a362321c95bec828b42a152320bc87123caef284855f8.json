{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport View from \"react-native-web/dist/exports/View\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get('window'),\n  height = _Dimensions$get.height,\n  width = _Dimensions$get.width;\nvar CardStack = function (_Component) {\n  _inherits(CardStack, _Component);\n  var _super = _createSuper(CardStack);\n  function CardStack(props) {\n    var _this;\n    _classCallCheck(this, CardStack);\n    _this = _super.call(this, props);\n    _this.state = {\n      drag: new Animated.ValueXY({\n        x: 0,\n        y: 0\n      }),\n      dragDistance: new Animated.Value(0),\n      sindex: 0,\n      cardA: null,\n      cardB: null,\n      topCard: 'cardA',\n      cards: [],\n      touchStart: 0\n    };\n    _this.distance = _this.constructor.distance;\n    _this._panResponder = PanResponder.create({\n      onStartShouldSetPanResponder: function onStartShouldSetPanResponder(evt, gestureState) {\n        return false;\n      },\n      onStartShouldSetPanResponderCapture: function onStartShouldSetPanResponderCapture(evt, gestureState) {\n        return false;\n      },\n      onMoveShouldSetPanResponder: function onMoveShouldSetPanResponder(evt, gestureState) {\n        var isVerticalSwipe = Math.sqrt(Math.pow(gestureState.dx, 2) < Math.pow(gestureState.dy, 2));\n        if (!_this.props.verticalSwipe && isVerticalSwipe) {\n          return false;\n        }\n        return Math.sqrt(Math.pow(gestureState.dx, 2) + Math.pow(gestureState.dy, 2)) > 10;\n      },\n      onMoveShouldSetPanResponderCapture: function onMoveShouldSetPanResponderCapture(evt, gestureState) {\n        var isVerticalSwipe = Math.sqrt(Math.pow(gestureState.dx, 2) < Math.pow(gestureState.dy, 2));\n        if (!_this.props.verticalSwipe && isVerticalSwipe) {\n          return false;\n        }\n        return Math.sqrt(Math.pow(gestureState.dx, 2) + Math.pow(gestureState.dy, 2)) > 10;\n      },\n      onPanResponderGrant: function onPanResponderGrant(evt, gestureState) {\n        _this.props.onSwipeStart();\n        _this.setState({\n          touchStart: new Date().getTime()\n        });\n      },\n      onPanResponderMove: function onPanResponderMove(evt, gestureState) {\n        var movedX = gestureState.moveX - gestureState.x0;\n        var movedY = gestureState.moveY - gestureState.y0;\n        _this.props.onSwipe(movedX, movedY);\n        var _this$props = _this.props,\n          verticalSwipe = _this$props.verticalSwipe,\n          horizontalSwipe = _this$props.horizontalSwipe;\n        var dragDistance = _this.distance(horizontalSwipe ? gestureState.dx : 0, verticalSwipe ? gestureState.dy : 0);\n        _this.state.dragDistance.setValue(dragDistance);\n        _this.state.drag.setValue({\n          x: horizontalSwipe ? gestureState.dx : 0,\n          y: verticalSwipe ? gestureState.dy : 0\n        });\n      },\n      onPanResponderTerminationRequest: function onPanResponderTerminationRequest(evt, gestureState) {\n        return true;\n      },\n      onPanResponderRelease: function onPanResponderRelease(evt, gestureState) {\n        _this.props.onSwipeEnd();\n        var currentTime = new Date().getTime();\n        var swipeDuration = currentTime - _this.state.touchStart;\n        var _this$props2 = _this.props,\n          verticalThreshold = _this$props2.verticalThreshold,\n          horizontalThreshold = _this$props2.horizontalThreshold,\n          disableTopSwipe = _this$props2.disableTopSwipe,\n          disableLeftSwipe = _this$props2.disableLeftSwipe,\n          disableRightSwipe = _this$props2.disableRightSwipe,\n          disableBottomSwipe = _this$props2.disableBottomSwipe;\n        if ((Math.abs(gestureState.dx) > horizontalThreshold || Math.abs(gestureState.dx) > horizontalThreshold * 0.6 && swipeDuration < 150) && _this.props.horizontalSwipe) {\n          var swipeDirection = gestureState.dx < 0 ? width * -1.5 : width * 1.5;\n          if (swipeDirection < 0 && !disableLeftSwipe) {\n            _this._nextCard('left', swipeDirection, gestureState.dy, _this.props.duration);\n          } else if (swipeDirection > 0 && !disableRightSwipe) {\n            _this._nextCard('right', swipeDirection, gestureState.dy, _this.props.duration);\n          } else {\n            _this._resetCard();\n          }\n        } else if ((Math.abs(gestureState.dy) > verticalThreshold || Math.abs(gestureState.dy) > verticalThreshold * 0.8 && swipeDuration < 150) && _this.props.verticalSwipe) {\n          var _swipeDirection = gestureState.dy < 0 ? height * -1 : height;\n          if (_swipeDirection < 0 && !disableTopSwipe) {\n            _this._nextCard('top', gestureState.dx, _swipeDirection, _this.props.duration);\n          } else if (_swipeDirection > 0 && !disableBottomSwipe) {\n            _this._nextCard('bottom', gestureState.dx, _swipeDirection, _this.props.duration);\n          } else {\n            _this._resetCard();\n          }\n        } else {\n          _this._resetCard();\n        }\n      },\n      onPanResponderTerminate: function onPanResponderTerminate(evt, gestureState) {},\n      onShouldBlockNativeResponder: function onShouldBlockNativeResponder(evt, gestureState) {\n        return true;\n      }\n    });\n    return _this;\n  }\n  _createClass(CardStack, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (typeof this.props.children === 'undefined') return;\n      if (!this._isSameChildren(this.props.children, prevProps.children)) {\n        var children = Array.isArray(this.props.children) ? this.props.children : [this.props.children];\n        var aIndex = this.state.topCard == 'cardA' ? this._getIndex(this.state.sindex - 2, children.length) : this._getIndex(this.state.sindex - 1, children.length);\n        var bIndex = this.state.topCard == 'cardB' ? this._getIndex(this.state.sindex - 2, children.length) : this._getIndex(this.state.sindex - 1, children.length);\n        this.setState({\n          cards: children,\n          cardA: children[aIndex] || null,\n          cardB: children[bIndex] || null\n        });\n      }\n    }\n  }, {\n    key: \"_getIndex\",\n    value: function _getIndex(index, cards) {\n      return this.props.loop ? this.mod(index, cards) : index;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initDeck();\n    }\n  }, {\n    key: \"_isSameChildren\",\n    value: function _isSameChildren(a, b) {\n      if (typeof a != typeof b) return false;\n      if (typeof a === 'undefined') return false;\n      if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length != b.length) return false;\n        for (var i in a) {\n          if (a[i].key != b[i].key) {\n            return false;\n          }\n        }\n        return true;\n      }\n      if (a.key !== b.key) return false;\n      return true;\n    }\n  }, {\n    key: \"initDeck\",\n    value: function initDeck() {\n      if (typeof this.props.children === 'undefined') return;\n      var _this$props3 = this.props,\n        children = _this$props3.children,\n        loop = _this$props3.loop;\n      var cards = Array.isArray(children) ? children : [children];\n      var initialIndexA = this.props.initialIndex < cards.length ? this.props.initialIndex : 0;\n      var initialIndexB = loop ? this.mod(initialIndexA + 1, cards.length) : initialIndexA + 1;\n      var cardA = cards[initialIndexA] || null;\n      var cardB = cards[initialIndexB] || null;\n      this.setState({\n        cards: cards,\n        cardA: cardA,\n        cardB: cardB,\n        sindex: initialIndexB + 1\n      });\n    }\n  }, {\n    key: \"_resetCard\",\n    value: function _resetCard() {\n      Animated.timing(this.state.dragDistance, {\n        toValue: 0,\n        duration: this.props.duration,\n        useNativeDriver: this.props.useNativeDriver || false\n      }).start();\n      Animated.spring(this.state.drag, {\n        toValue: {\n          x: 0,\n          y: 0\n        },\n        duration: this.props.duration,\n        useNativeDriver: this.props.useNativeDriver || false\n      }).start();\n    }\n  }, {\n    key: \"goBackFromTop\",\n    value: function goBackFromTop() {\n      this._goBack('top');\n    }\n  }, {\n    key: \"goBackFromRight\",\n    value: function goBackFromRight() {\n      this._goBack('right');\n    }\n  }, {\n    key: \"goBackFromLeft\",\n    value: function goBackFromLeft() {\n      this._goBack('left');\n    }\n  }, {\n    key: \"goBackFromBottom\",\n    value: function goBackFromBottom() {\n      this._goBack('bottom');\n    }\n  }, {\n    key: \"mod\",\n    value: function mod(n, m) {\n      return (n % m + m) % m;\n    }\n  }, {\n    key: \"_goBack\",\n    value: function _goBack(direction) {\n      var _this2 = this;\n      var _this$state = this.state,\n        cards = _this$state.cards,\n        sindex = _this$state.sindex,\n        topCard = _this$state.topCard;\n      if (sindex - 3 < 0 && !this.props.loop) return;\n      var previusCardIndex = this.mod(sindex - 3, cards.length);\n      var update = {};\n      if (topCard === 'cardA') {\n        update = _objectSpread(_objectSpread({}, update), {}, {\n          cardB: cards[previusCardIndex]\n        });\n      } else {\n        update = _objectSpread(_objectSpread({}, update), {}, {\n          cardA: cards[previusCardIndex]\n        });\n      }\n      this.setState(_objectSpread(_objectSpread({}, update), {}, {\n        topCard: topCard === 'cardA' ? 'cardB' : 'cardA',\n        sindex: sindex - 1\n      }), function () {\n        switch (direction) {\n          case 'top':\n            _this2.state.drag.setValue({\n              x: 0,\n              y: -height\n            });\n            _this2.state.dragDistance.setValue(height);\n            break;\n          case 'left':\n            _this2.state.drag.setValue({\n              x: -width,\n              y: 0\n            });\n            _this2.state.dragDistance.setValue(width);\n            break;\n          case 'right':\n            _this2.state.drag.setValue({\n              x: width,\n              y: 0\n            });\n            _this2.state.dragDistance.setValue(width);\n            break;\n          case 'bottom':\n            _this2.state.drag.setValue({\n              x: 0,\n              y: height\n            });\n            _this2.state.dragDistance.setValue(width);\n            break;\n          default:\n        }\n        Animated.spring(_this2.state.dragDistance, {\n          toValue: 0,\n          duration: _this2.props.duration,\n          useNativeDriver: _this2.props.useNativeDriver || false\n        }).start();\n        Animated.spring(_this2.state.drag, {\n          toValue: {\n            x: 0,\n            y: 0\n          },\n          duration: _this2.props.duration,\n          useNativeDriver: _this2.props.useNativeDriver || false\n        }).start();\n      });\n    }\n  }, {\n    key: \"swipeTop\",\n    value: function swipeTop() {\n      var d = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      this._nextCard('top', 0, -height, d || this.props.duration);\n    }\n  }, {\n    key: \"swipeBottom\",\n    value: function swipeBottom() {\n      var d = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      this._nextCard('bottom', 0, height, d || this.props.duration);\n    }\n  }, {\n    key: \"swipeRight\",\n    value: function swipeRight() {\n      var d = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      this._nextCard('right', width * 1.5, 0, d || this.props.duration);\n    }\n  }, {\n    key: \"swipeLeft\",\n    value: function swipeLeft() {\n      var d = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      this._nextCard('left', -width * 1.5, 0, d || this.props.duration);\n    }\n  }, {\n    key: \"_nextCard\",\n    value: function _nextCard(direction, x, y) {\n      var _this3 = this;\n      var duration = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 400;\n      var _this$props4 = this.props,\n        verticalSwipe = _this$props4.verticalSwipe,\n        horizontalSwipe = _this$props4.horizontalSwipe,\n        loop = _this$props4.loop;\n      var _this$state2 = this.state,\n        sindex = _this$state2.sindex,\n        cards = _this$state2.cards,\n        topCard = _this$state2.topCard;\n      var nextCard = loop ? Math.abs(sindex) % cards.length : sindex;\n      var index = loop ? this.mod(nextCard - 2, cards.length) : nextCard - 2;\n      if (index === cards.length - 1) {\n        this.props.onSwipedAll();\n      }\n      if (sindex - 2 < cards.length || loop) {\n        Animated.spring(this.state.dragDistance, {\n          toValue: 220,\n          duration: duration,\n          useNativeDriver: this.props.useNativeDriver || false\n        }).start();\n        Animated.timing(this.state.drag, {\n          toValue: {\n            x: horizontalSwipe ? x : 0,\n            y: verticalSwipe ? y : 0\n          },\n          duration: duration,\n          useNativeDriver: this.props.useNativeDriver || false\n        }).start(function () {\n          var newTopCard = topCard === 'cardA' ? 'cardB' : 'cardA';\n          var update = {};\n          if (newTopCard === 'cardA') {\n            update = _objectSpread(_objectSpread({}, update), {}, {\n              cardB: cards[nextCard]\n            });\n          }\n          if (newTopCard === 'cardB') {\n            update = _objectSpread(_objectSpread({}, update), {}, {\n              cardA: cards[nextCard]\n            });\n          }\n          _this3.state.drag.setValue({\n            x: 0,\n            y: 0\n          });\n          _this3.state.dragDistance.setValue(0);\n          _this3.setState(_objectSpread(_objectSpread({}, update), {}, {\n            topCard: newTopCard,\n            sindex: nextCard + 1\n          }));\n          _this3.props.onSwiped(index);\n          switch (direction) {\n            case 'left':\n              _this3.props.onSwipedLeft(index);\n              if (_this3.state.cards[index] && _this3.state.cards[index].props.onSwipedLeft) _this3.state.cards[index] && _this3.state.cards[index].props.onSwipedLeft();\n              break;\n            case 'right':\n              _this3.props.onSwipedRight(index);\n              if (_this3.state.cards[index] && _this3.state.cards[index].props.onSwipedRight) _this3.state.cards[index].props.onSwipedRight();\n              break;\n            case 'top':\n              _this3.props.onSwipedTop(index);\n              if (_this3.state.cards[index] && _this3.state.cards[index].props.onSwipedTop) _this3.state.cards[index].props.onSwipedTop();\n              break;\n            case 'bottom':\n              _this3.props.onSwipedBottom(index);\n              if (_this3.state.cards[index] && _this3.state.cards[index].props.onSwipedBottom) _this3.state.cards[index].props.onSwipedBottom();\n              break;\n            default:\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_setPointerEvents\",\n    value: function _setPointerEvents(topCard, topCardName) {\n      return {\n        pointerEvents: topCard === topCardName ? \"auto\" : \"none\"\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n        secondCardZoom = _this$props5.secondCardZoom,\n        renderNoMoreCards = _this$props5.renderNoMoreCards;\n      var _this$state3 = this.state,\n        drag = _this$state3.drag,\n        dragDistance = _this$state3.dragDistance,\n        cardA = _this$state3.cardA,\n        cardB = _this$state3.cardB,\n        topCard = _this$state3.topCard,\n        sindex = _this$state3.sindex;\n      var scale = dragDistance.interpolate({\n        inputRange: [0, 10, 220],\n        outputRange: [secondCardZoom, secondCardZoom, 1],\n        extrapolate: 'clamp'\n      });\n      var rotate = drag.x.interpolate({\n        inputRange: [width * -1.5, 0, width * 1.5],\n        outputRange: this.props.outputRotationRange,\n        extrapolate: 'clamp'\n      });\n      return _jsxs(View, _objectSpread(_objectSpread({}, this._panResponder.panHandlers), {}, {\n        style: [{\n          position: 'relative'\n        }, this.props.style],\n        children: [renderNoMoreCards(), _jsx(Animated.View, _objectSpread(_objectSpread({}, this._setPointerEvents(topCard, 'cardB')), {}, {\n          style: [_objectSpread(_objectSpread({\n            position: 'absolute',\n            zIndex: topCard === 'cardB' ? 3 : 2\n          }, Platform.select({\n            android: {\n              elevation: topCard === 'cardB' ? 3 : 2\n            }\n          })), {}, {\n            transform: [{\n              rotate: topCard === 'cardB' ? rotate : '0deg'\n            }, {\n              translateX: topCard === 'cardB' ? drag.x : 0\n            }, {\n              translateY: topCard === 'cardB' ? drag.y : 0\n            }, {\n              scale: topCard === 'cardB' ? 1 : scale\n            }]\n          }), this.props.cardContainerStyle],\n          children: cardB\n        })), _jsx(Animated.View, _objectSpread(_objectSpread({}, this._setPointerEvents(topCard, 'cardA')), {}, {\n          style: [_objectSpread(_objectSpread({\n            position: 'absolute',\n            zIndex: topCard === 'cardA' ? 3 : 2\n          }, Platform.select({\n            android: {\n              elevation: topCard === 'cardA' ? 3 : 2\n            }\n          })), {}, {\n            transform: [{\n              rotate: topCard === 'cardA' ? rotate : '0deg'\n            }, {\n              translateX: topCard === 'cardA' ? drag.x : 0\n            }, {\n              translateY: topCard === 'cardA' ? drag.y : 0\n            }, {\n              scale: topCard === 'cardA' ? 1 : scale\n            }]\n          }), this.props.cardContainerStyle],\n          children: cardA\n        }))]\n      }));\n    }\n  }], [{\n    key: \"distance\",\n    value: function distance(x, y) {\n      return Math.hypot(x, y);\n    }\n  }]);\n  return CardStack;\n}(Component);\nCardStack.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.array, PropTypes.object]).isRequired,\n  style: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  cardContainerStyle: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  secondCardZoom: PropTypes.number,\n  loop: PropTypes.bool,\n  initialIndex: PropTypes.number,\n  renderNoMoreCards: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  onSwipeStart: PropTypes.func,\n  onSwipeEnd: PropTypes.func,\n  onSwiped: PropTypes.func,\n  onSwipedLeft: PropTypes.func,\n  onSwipedRight: PropTypes.func,\n  onSwipedTop: PropTypes.func,\n  onSwipedBottom: PropTypes.func,\n  onSwiped: PropTypes.func,\n  onSwipedAll: PropTypes.func,\n  onSwipe: PropTypes.func,\n  disableBottomSwipe: PropTypes.bool,\n  disableLeftSwipe: PropTypes.bool,\n  disableRightSwipe: PropTypes.bool,\n  disableTopSwipe: PropTypes.bool,\n  verticalSwipe: PropTypes.bool,\n  verticalThreshold: PropTypes.number,\n  horizontalSwipe: PropTypes.bool,\n  horizontalThreshold: PropTypes.number,\n  outputRotationRange: PropTypes.array,\n  duration: PropTypes.number\n};\nCardStack.defaultProps = {\n  style: {},\n  cardContainerStyle: {},\n  secondCardZoom: 0.95,\n  loop: false,\n  initialIndex: 0,\n  renderNoMoreCards: function renderNoMoreCards() {\n    return _jsx(Text, {\n      children: \"No More Cards\"\n    });\n  },\n  onSwipeStart: function onSwipeStart() {\n    return null;\n  },\n  onSwipeEnd: function onSwipeEnd() {\n    return null;\n  },\n  onSwiped: function onSwiped() {},\n  onSwipedLeft: function onSwipedLeft() {},\n  onSwipedRight: function onSwipedRight() {},\n  onSwipedTop: function onSwipedTop() {},\n  onSwipedBottom: function onSwipedBottom() {},\n  onSwipedAll: function onSwipedAll() {\n    return _regeneratorRuntime.async(function onSwipedAll$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  },\n  onSwipe: function onSwipe() {},\n  disableBottomSwipe: false,\n  disableLeftSwipe: false,\n  disableRightSwipe: false,\n  disableTopSwipe: false,\n  verticalSwipe: true,\n  verticalThreshold: height / 4,\n  horizontalSwipe: true,\n  horizontalThreshold: width / 2,\n  outputRotationRange: ['-15deg', '0deg', '15deg'],\n  duration: 300\n};\npolyfill(CardStack);\nexport default CardStack;","map":{"version":3,"names":["React","Component","PropTypes","polyfill","View","Animated","PanResponder","Dimensions","Text","Platform","jsx","_jsx","jsxs","_jsxs","_Dimensions$get","get","height","width","CardStack","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","drag","ValueXY","x","y","dragDistance","Value","sindex","cardA","cardB","topCard","cards","touchStart","distance","constructor","_panResponder","create","onStartShouldSetPanResponder","evt","gestureState","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponder","isVerticalSwipe","Math","sqrt","pow","dx","dy","verticalSwipe","onMoveShouldSetPanResponderCapture","onPanResponderGrant","onSwipeStart","setState","Date","getTime","onPanResponderMove","movedX","moveX","x0","movedY","moveY","y0","onSwipe","_this$props","horizontalSwipe","setValue","onPanResponderTerminationRequest","onPanResponderRelease","onSwipeEnd","currentTime","swipeDuration","_this$props2","verticalThreshold","horizontalThreshold","disableTopSwipe","disableLeftSwipe","disableRightSwipe","disableBottomSwipe","abs","swipeDirection","_nextCard","duration","_resetCard","onPanResponderTerminate","onShouldBlockNativeResponder","_createClass","key","value","componentDidUpdate","prevProps","children","_isSameChildren","Array","isArray","aIndex","_getIndex","length","bIndex","index","loop","mod","componentDidMount","initDeck","a","b","i","_this$props3","initialIndexA","initialIndex","initialIndexB","timing","toValue","useNativeDriver","start","spring","goBackFromTop","_goBack","goBackFromRight","goBackFromLeft","goBackFromBottom","n","m","direction","_this2","_this$state","previusCardIndex","update","_objectSpread","swipeTop","d","arguments","undefined","swipeBottom","swipeRight","swipeLeft","_this3","_this$props4","_this$state2","nextCard","onSwipedAll","newTopCard","onSwiped","onSwipedLeft","onSwipedRight","onSwipedTop","onSwipedBottom","_setPointerEvents","topCardName","pointerEvents","render","_this$props5","secondCardZoom","renderNoMoreCards","_this$state3","scale","interpolate","inputRange","outputRange","extrapolate","rotate","outputRotationRange","panHandlers","style","position","zIndex","select","android","elevation","transform","translateX","translateY","cardContainerStyle","hypot","propTypes","oneOfType","array","object","isRequired","number","bool","func","element","defaultProps","_regeneratorRuntime","async","onSwipedAll$","_context","prev","next","stop","Promise"],"sources":["C:/Users/abril/Desktop/Repos/tinder-expo/node_modules/react-native-card-stack-swiper/CardStack.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types'\nimport { polyfill } from 'react-lifecycles-compat';\nimport {\n  View,\n  Animated,\n  PanResponder,\n  Dimensions,\n  Text,\n  Platform\n} from 'react-native';\n\nconst { height, width } = Dimensions.get('window');\n\nclass CardStack extends Component {\n\n  static distance(x, y) {\n    return Math.hypot(x, y);\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      drag: new Animated.ValueXY({ x: 0, y: 0 }),\n      dragDistance: new Animated.Value(0),\n      sindex: 0, // index to the next card to be renderd mod card.length\n      cardA: null,\n      cardB: null,\n      topCard: 'cardA',\n      cards: [],\n      touchStart: 0,\n    };\n    this.distance = this.constructor.distance;\n    this._panResponder = PanResponder.create({\n      onStartShouldSetPanResponder: (evt, gestureState) => false,\n      onStartShouldSetPanResponderCapture: (evt, gestureState) => false,\n      onMoveShouldSetPanResponder: (evt, gestureState) => {\n        const isVerticalSwipe = Math.sqrt(\n          Math.pow(gestureState.dx, 2) < Math.pow(gestureState.dy, 2)\n        )\n        if (!this.props.verticalSwipe && isVerticalSwipe) {\n          return false\n        }\n        return Math.sqrt(Math.pow(gestureState.dx, 2) + Math.pow(gestureState.dy, 2)) > 10\n      },\n      onMoveShouldSetPanResponderCapture: (evt, gestureState) => {\n        const isVerticalSwipe = Math.sqrt(\n          Math.pow(gestureState.dx, 2) < Math.pow(gestureState.dy, 2)\n        )\n        if (!this.props.verticalSwipe && isVerticalSwipe) {\n          return false\n        }\n        return Math.sqrt(Math.pow(gestureState.dx, 2) + Math.pow(gestureState.dy, 2)) > 10\n      },\n      onPanResponderGrant: (evt, gestureState) => {\n        this.props.onSwipeStart();\n        this.setState({ touchStart: new Date().getTime() });\n      },\n      onPanResponderMove: (evt, gestureState) => {\n        const movedX = gestureState.moveX - gestureState.x0;\n        const movedY = gestureState.moveY - gestureState.y0;\n        this.props.onSwipe(movedX, movedY);\n        const { verticalSwipe, horizontalSwipe } = this.props;\n        const dragDistance = this.distance((horizontalSwipe) ? gestureState.dx : 0, (verticalSwipe) ? gestureState.dy : 0);\n        this.state.dragDistance.setValue(dragDistance);\n        this.state.drag.setValue({ x: (horizontalSwipe) ? gestureState.dx : 0, y: (verticalSwipe) ? gestureState.dy : 0 });\n      },\n      onPanResponderTerminationRequest: (evt, gestureState) => true,\n      onPanResponderRelease: (evt, gestureState) => {\n        this.props.onSwipeEnd();\n        const currentTime = new Date().getTime();\n        const swipeDuration = currentTime - this.state.touchStart;\n        const {\n          verticalThreshold,\n          horizontalThreshold,\n          disableTopSwipe,\n          disableLeftSwipe,\n          disableRightSwipe,\n          disableBottomSwipe,\n        } = this.props;\n\n        if (((Math.abs(gestureState.dx) > horizontalThreshold) ||\n          (Math.abs(gestureState.dx) > horizontalThreshold * 0.6 &&\n            swipeDuration < 150)\n        ) && this.props.horizontalSwipe) {\n\n          const swipeDirection = (gestureState.dx < 0) ? width * -1.5 : width * 1.5;\n          if (swipeDirection < 0 && !disableLeftSwipe) {\n            this._nextCard('left', swipeDirection, gestureState.dy, this.props.duration);\n          }\n          else if (swipeDirection > 0 && !disableRightSwipe) {\n            this._nextCard('right', swipeDirection, gestureState.dy, this.props.duration);\n          }\n          else {\n            this._resetCard();\n          }\n        } else if (((Math.abs(gestureState.dy) > verticalThreshold) ||\n          (Math.abs(gestureState.dy) > verticalThreshold * 0.8 &&\n            swipeDuration < 150)\n        ) && this.props.verticalSwipe) {\n\n          const swipeDirection = (gestureState.dy < 0) ? height * -1 : height;\n          if (swipeDirection < 0 && !disableTopSwipe) {\n\n            this._nextCard('top', gestureState.dx, swipeDirection, this.props.duration);\n          }\n          else if (swipeDirection > 0 && !disableBottomSwipe) {\n            this._nextCard('bottom', gestureState.dx, swipeDirection, this.props.duration);\n          }\n          else {\n            this._resetCard();\n          }\n        }\n        else {\n          this._resetCard();\n        }\n      },\n      onPanResponderTerminate: (evt, gestureState) => {\n      },\n      onShouldBlockNativeResponder: (evt, gestureState) => {\n        return true;\n      },\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (typeof this.props.children === 'undefined') return;\n    if (!this._isSameChildren(this.props.children, prevProps.children)) {\n      const children = Array.isArray(this.props.children) ? this.props.children : [this.props.children];\n      let aIndex = (this.state.topCard == 'cardA') ?\n        this._getIndex(this.state.sindex - 2, children.length) :\n        this._getIndex(this.state.sindex - 1, children.length);\n      let bIndex = (this.state.topCard == 'cardB') ?\n        this._getIndex(this.state.sindex - 2, children.length) :\n        this._getIndex(this.state.sindex - 1, children.length);\n      this.setState({\n        cards: children,\n        cardA: children[aIndex] || null,\n        cardB: children[bIndex] || null\n      });\n    }\n  }\n\n  _getIndex(index, cards){\n    return this.props.loop ? \n      this.mod(index, cards):\n      index;\n  }\n\n  componentDidMount() {\n    this.initDeck();\n  }\n\n  _isSameChildren(a, b) {\n    if (typeof a != typeof b) return false;\n    if (typeof a === 'undefined') return false;\n    if (Array.isArray(a) && Array.isArray(b)) {\n      if (a.length != b.length) return false;\n      for (let i in a) {\n        if (a[i].key != b[i].key) { return false }\n      }\n      return true;\n    }\n    if (a.key !== b.key) return false;\n\n    return true\n  }\n\n  initDeck() {\n    if (typeof this.props.children === 'undefined') return;\n    const { children, loop } = this.props;\n    const cards = Array.isArray(children) ? children : [children];\n    const initialIndexA = this.props.initialIndex < cards.length ? this.props.initialIndex : 0;\n    const initialIndexB = loop ? this.mod(initialIndexA + 1, cards.length) : initialIndexA + 1;\n    const cardA = cards[initialIndexA] || null;\n    const cardB = cards[initialIndexB] || null;\n    this.setState({\n      cards,\n      cardA,\n      cardB,\n      sindex: initialIndexB + 1,\n    });\n  }\n\n  _resetCard() {\n    Animated.timing(\n      this.state.dragDistance,\n      {\n        toValue: 0,\n        duration: this.props.duration,\n        useNativeDriver: this.props.useNativeDriver || false,\n      }\n    ).start();\n    Animated.spring(\n      this.state.drag,\n      {\n        toValue: { x: 0, y: 0 },\n        duration: this.props.duration,\n        useNativeDriver: this.props.useNativeDriver || false,\n      }\n    ).start();\n  }\n\n  goBackFromTop() {\n    this._goBack('top');\n  }\n\n  goBackFromRight() {\n    this._goBack('right');\n  }\n\n  goBackFromLeft() {\n    this._goBack('left');\n  }\n\n  goBackFromBottom() {\n    this._goBack('bottom');\n  }\n\n  mod(n, m) {\n    return ((n % m) + m) % m;\n  }\n\n  _goBack(direction) {\n    const { cards, sindex, topCard } = this.state;\n\n    if ((sindex - 3) < 0 && !this.props.loop) return;\n\n    const previusCardIndex = this.mod(sindex - 3, cards.length)\n    let update = {};\n    if (topCard === 'cardA') {\n      update = {\n        ...update,\n        cardB: cards[previusCardIndex]\n\n      }\n    } else {\n      update = {\n        ...update,\n        cardA: cards[previusCardIndex],\n      }\n    }\n\n    this.setState({\n      ...update,\n      topCard: (topCard === 'cardA') ? 'cardB' : 'cardA',\n      sindex: sindex - 1\n    }, () => {\n\n      switch (direction) {\n        case 'top':\n          this.state.drag.setValue({ x: 0, y: -height });\n          this.state.dragDistance.setValue(height);\n          break;\n        case 'left':\n          this.state.drag.setValue({ x: -width, y: 0 });\n          this.state.dragDistance.setValue(width);\n          break;\n        case 'right':\n          this.state.drag.setValue({ x: width, y: 0 });\n          this.state.dragDistance.setValue(width);\n          break;\n        case 'bottom':\n          this.state.drag.setValue({ x: 0, y: height });\n          this.state.dragDistance.setValue(width);\n          break;\n        default:\n\n      }\n\n      Animated.spring(\n        this.state.dragDistance,\n        {\n          toValue: 0,\n          duration: this.props.duration,\n          useNativeDriver: this.props.useNativeDriver || false,\n        }\n      ).start();\n\n      Animated.spring(\n        this.state.drag,\n        {\n          toValue: { x: 0, y: 0 },\n          duration: this.props.duration,\n          useNativeDriver: this.props.useNativeDriver || false,\n        }\n      ).start();\n    })\n  }\n\n  swipeTop(d = null) {\n    this._nextCard('top', 0, -height, d || this.props.duration);\n  }\n\n  swipeBottom(d = null) {\n    this._nextCard('bottom', 0, height, d || this.props.duration);\n  }\n\n  swipeRight(d = null) {\n    this._nextCard('right', width * 1.5, 0, d || this.props.duration);\n  }\n\n  swipeLeft(d = null) {\n    this._nextCard('left', -width * 1.5, 0, d || this.props.duration);\n  }\n\n  _nextCard(direction, x, y, duration = 400) {\n    const { verticalSwipe, horizontalSwipe, loop } = this.props;\n    const { sindex, cards, topCard } = this.state;\n\n    // index for the next card to be renderd\n    const nextCard = (loop) ? (Math.abs(sindex) % cards.length) : sindex;\n\n    // index of the swiped card\n    const index = (loop) ? this.mod(nextCard - 2, cards.length) : nextCard - 2;\n\n    if (index === cards.length - 1) {\n      this.props.onSwipedAll();\n    }\n\n    if ((sindex - 2 < cards.length) || (loop)) {\n      Animated.spring(\n        this.state.dragDistance,\n        {\n          toValue: 220,\n          duration,\n          useNativeDriver: this.props.useNativeDriver || false,\n        }\n      ).start();\n\n      Animated.timing(\n        this.state.drag,\n        {\n          toValue: { x: (horizontalSwipe) ? x : 0, y: (verticalSwipe) ? y : 0 },\n          duration,\n          useNativeDriver: this.props.useNativeDriver || false,\n        }\n      ).start(() => {\n\n        const newTopCard = (topCard === 'cardA') ? 'cardB' : 'cardA';\n\n        let update = {};\n        if (newTopCard === 'cardA') {\n          update = {\n            ...update,\n            cardB: cards[nextCard]\n          };\n        }\n        if (newTopCard === 'cardB') {\n          update = {\n            ...update,\n            cardA: cards[nextCard],\n          };\n        }\n        this.state.drag.setValue({ x: 0, y: 0 });\n        this.state.dragDistance.setValue(0);\n        this.setState({\n          ...update,\n          topCard: newTopCard,\n          sindex: nextCard + 1\n        });\n\n        this.props.onSwiped(index);\n        switch (direction) {\n          case 'left':\n            this.props.onSwipedLeft(index);\n            if (this.state.cards[index] && this.state.cards[index].props.onSwipedLeft)\n              this.state.cards[index] && this.state.cards[index].props.onSwipedLeft();\n            break;\n          case 'right':\n            this.props.onSwipedRight(index);\n            if (this.state.cards[index] && this.state.cards[index].props.onSwipedRight)\n              this.state.cards[index].props.onSwipedRight();\n            break;\n          case 'top':\n            this.props.onSwipedTop(index);\n            if (this.state.cards[index] && this.state.cards[index].props.onSwipedTop)\n              this.state.cards[index].props.onSwipedTop();\n            break;\n          case 'bottom':\n            this.props.onSwipedBottom(index);\n            if (this.state.cards[index] && this.state.cards[index].props.onSwipedBottom)\n              this.state.cards[index].props.onSwipedBottom();\n            break;\n          default:\n        }\n      });\n\n    }\n  }\n\n\n  /**\n   * @description CardBâ€™s click feature is trigger the CardA on the card stack. (Solved on Android)\n   * @see https://facebook.github.io/react-native/docs/view#pointerevents\n   */\n  _setPointerEvents(topCard, topCardName) {\n    return { pointerEvents: topCard === topCardName ? \"auto\" : \"none\" }\n  }\n\n  render() {\n\n    const { secondCardZoom, renderNoMoreCards } = this.props;\n    const { drag, dragDistance, cardA, cardB, topCard, sindex } = this.state;\n\n    const scale = dragDistance.interpolate({\n      inputRange: [0, 10, 220],\n      outputRange: [secondCardZoom, secondCardZoom, 1],\n      extrapolate: 'clamp',\n    });\n    const rotate = drag.x.interpolate({\n      inputRange: [width * -1.5, 0, width * 1.5],\n      outputRange: this.props.outputRotationRange,\n      extrapolate: 'clamp',\n    });\n\n    return (\n      <View {...this._panResponder.panHandlers} style={[{ position: 'relative' }, this.props.style]}>\n\n        {renderNoMoreCards()}\n\n        <Animated.View\n          {...this._setPointerEvents(topCard, 'cardB')}\n          style={[{\n            position: 'absolute',\n            zIndex: (topCard === 'cardB') ? 3 : 2,\n            ...Platform.select({\n              android: {\n                elevation: (topCard === 'cardB') ? 3 : 2,\n              }\n            }),\n            transform: [\n              { rotate: (topCard === 'cardB') ? rotate : '0deg' },\n              { translateX: (topCard === 'cardB') ? drag.x : 0 },\n              { translateY: (topCard === 'cardB') ? drag.y : 0 },\n              { scale: (topCard === 'cardB') ? 1 : scale },\n            ]\n          }, this.props.cardContainerStyle]}>\n          {cardB}\n        </Animated.View>\n        <Animated.View\n          {...this._setPointerEvents(topCard, 'cardA')}\n          style={[{\n            position: 'absolute',\n            zIndex: (topCard === 'cardA') ? 3 : 2,\n            ...Platform.select({\n              android: {\n                elevation: (topCard === 'cardA') ? 3 : 2,\n              }\n            }),\n            transform: [\n              { rotate: (topCard === 'cardA') ? rotate : '0deg' },\n              { translateX: (topCard === 'cardA') ? drag.x : 0 },\n              { translateY: (topCard === 'cardA') ? drag.y : 0 },\n              { scale: (topCard === 'cardA') ? 1 : scale },\n            ]\n          }, this.props.cardContainerStyle]}>\n          {cardA}\n        </Animated.View>\n\n      </View>\n    );\n  }\n}\n\nCardStack.propTypes = {\n\n  children: PropTypes.oneOfType([PropTypes.array, PropTypes.object]).isRequired,\n\n  style: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  cardContainerStyle: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  secondCardZoom: PropTypes.number,\n  loop: PropTypes.bool,\n  initialIndex: PropTypes.number,\n  renderNoMoreCards: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  onSwipeStart: PropTypes.func,\n  onSwipeEnd: PropTypes.func,\n  onSwiped: PropTypes.func,\n  onSwipedLeft: PropTypes.func,\n  onSwipedRight: PropTypes.func,\n  onSwipedTop: PropTypes.func,\n  onSwipedBottom: PropTypes.func,\n  onSwiped: PropTypes.func,\n  onSwipedAll: PropTypes.func,\n  onSwipe: PropTypes.func,\n\n  disableBottomSwipe: PropTypes.bool,\n  disableLeftSwipe: PropTypes.bool,\n  disableRightSwipe: PropTypes.bool,\n  disableTopSwipe: PropTypes.bool,\n  verticalSwipe: PropTypes.bool,\n  verticalThreshold: PropTypes.number,\n\n  horizontalSwipe: PropTypes.bool,\n  horizontalThreshold: PropTypes.number,\n  outputRotationRange: PropTypes.array,\n  duration: PropTypes.number\n}\n\nCardStack.defaultProps = {\n\n  style: {},\n  cardContainerStyle: {},\n  secondCardZoom: 0.95,\n  loop: false,\n  initialIndex: 0,\n  renderNoMoreCards: () => { return (<Text>No More Cards</Text>) },\n  onSwipeStart: () => null,\n  onSwipeEnd: () => null,\n  onSwiped: () => { },\n  onSwipedLeft: () => { },\n  onSwipedRight: () => { },\n  onSwipedTop: () => { },\n  onSwipedBottom: () => { },\n  onSwipedAll: async () => { },\n  onSwipe: () => { },\n\n  disableBottomSwipe: false,\n  disableLeftSwipe: false,\n  disableRightSwipe: false,\n  disableTopSwipe: false,\n  verticalSwipe: true,\n  verticalThreshold: height / 4,\n  horizontalSwipe: true,\n  horizontalThreshold: width / 2,\n  outputRotationRange: ['-15deg', '0deg', '15deg'],\n  duration: 300\n}\npolyfill(CardStack);\nexport default CardStack;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}